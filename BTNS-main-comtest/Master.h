#ifndef _MASTER_H_
#define _MASTER_H_

//childclass of espnowcontroller
#include "EspNowController.h"
#include "GameHost.h"
#include <vector>
using namespace std;

class Master : public EspNowController, public Gamehost{
  public:
    void Loop();
    void broadCastToAllSlaves(EspNowController::message_structure message);
    void handleReceivedData(uint8_t * mac);
    void registerSlave(uint8_t *mac);
    void test1();
    
    vector<int> connectedSlaveIDs;
    bool attemtGameStart();
  
  private:
    unsigned long previousMillis = 0;

    //used for memcmp
    uint8_t placeholderMAC[6] = {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};
    uint8_t slaveMACS[10][6] = { //index of slavemac is the id of the slace 
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, //placeholder to reserve memory space for memcpy
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
      {0xAF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
    }; 
};

#endif